2025-05-25 16:35:23,228 - engineio.server - INFO - Server initialized for threading.
2025-05-25 16:35:23,228 - IOT_server - INFO - Server shutting down - clearing device commands table
2025-05-25 16:35:23,275 - IOT_server - INFO - Device commands table cleared successfully - Removed -1 records
2025-05-25 16:35:23,275 - IOT_server - INFO - Database connection closed during shutdown
2025-05-25 16:35:23,282 - werkzeug - WARNING -  * Debugger is active!
2025-05-25 16:35:23,290 - werkzeug - INFO -  * Debugger PIN: 144-494-352
2025-05-25 16:36:24,179 - engineio.server - INFO - pt5roZrrsxSmlrk3AAAA: Sending packet OPEN data {'sid': 'pt5roZrrsxSmlrk3AAAA', 'upgrades': [], 'pingTimeout': 20000, 'pingInterval': 25000, 'maxPayload': 1000000}
2025-05-25 16:36:24,180 - engineio.server - INFO - pt5roZrrsxSmlrk3AAAA: Received request to upgrade to websocket
2025-05-25 16:36:24,181 - engineio.server - INFO - pt5roZrrsxSmlrk3AAAA: Upgrade to websocket successful
2025-05-25 16:36:24,183 - engineio.server - INFO - pt5roZrrsxSmlrk3AAAA: Received packet MESSAGE data 0
2025-05-25 16:36:24,183 - IOT_server - INFO - Client connected: PFUM576Thsea0j98AAAB
2025-05-25 16:36:24,184 - socketio.server - INFO - emitting event "connection_status" to PFUM576Thsea0j98AAAB [/]
2025-05-25 16:36:24,184 - engineio.server - INFO - pt5roZrrsxSmlrk3AAAA: Sending packet MESSAGE data 2["connection_status",{"status":"connected","message":"Connected to IOT Farming WebSocket server","timestamp":"2025-05-25T16:36:24.184712"}]
2025-05-25 16:36:24,184 - engineio.server - INFO - pt5roZrrsxSmlrk3AAAA: Sending packet MESSAGE data 0{"sid":"PFUM576Thsea0j98AAAB"}
2025-05-25 16:36:24,186 - engineio.server - INFO - pt5roZrrsxSmlrk3AAAA: Received packet MESSAGE data 2["ping"]
2025-05-25 16:36:24,186 - socketio.server - INFO - received event "ping" from PFUM576Thsea0j98AAAB [/]
2025-05-25 16:36:24,187 - IOT_server - INFO - Ping received from client: PFUM576Thsea0j98AAAB
2025-05-25 16:36:24,187 - socketio.server - INFO - emitting event "pong" to PFUM576Thsea0j98AAAB [/]
2025-05-25 16:36:24,187 - engineio.server - INFO - pt5roZrrsxSmlrk3AAAA: Sending packet MESSAGE data 2["pong",{"data":"Pong from server!","timestamp":"2025-05-25T16:36:24.187756","received":true}]
2025-05-25 16:36:32,899 - engineio.server - INFO - pt5roZrrsxSmlrk3AAAA: Received packet MESSAGE data 2["control_type_change",{"sector":"A","device":"Light","type":"On/Off","status":false}]
2025-05-25 16:36:32,900 - socketio.server - INFO - received event "control_type_change" from PFUM576Thsea0j98AAAB [/]
2025-05-25 16:36:32,900 - IOT_server - INFO - Control type change received at 2025-05-25T16:36:32.900733
2025-05-25 16:36:32,900 - IOT_server - INFO - Type change details - Sector: A, Device: Light, Type: On/Off
2025-05-25 16:36:32,901 - IOT_server - INFO - Control type change - Device: A_Light, Type: On/Off, Additional data: {}
2025-05-25 16:36:32,901 - socketio.server - INFO - emitting event "type_change_response" to PFUM576Thsea0j98AAAB [/]
2025-05-25 16:36:32,901 - engineio.server - INFO - pt5roZrrsxSmlrk3AAAA: Sending packet MESSAGE data 2["type_change_response",{"success":true,"device":"A_Light","type":"On/Off","received":true,"timestamp":"2025-05-25T16:36:32.900733","message":"Control type for Light in sector A changed to On/Off"}]
2025-05-25 16:36:33,630 - engineio.server - INFO - pt5roZrrsxSmlrk3AAAA: Received packet MESSAGE data 20["device_command",{"sector":"A","device":"Light","status":true,"type":"On/Off","command":"start"}]
2025-05-25 16:36:33,631 - socketio.server - INFO - received event "device_command" from PFUM576Thsea0j98AAAB [/]
2025-05-25 16:36:33,777 - IOT_server - INFO - Command saved to database - ID: 1
2025-05-25 16:36:33,777 - IOT_server - INFO - Device command received at 2025-05-25T16:36:33.631528
2025-05-25 16:36:33,777 - IOT_server - INFO - Command details - ID: 1, Sector: A, Device: Light
2025-05-25 16:36:33,777 - IOT_server - INFO - Status: True, Type: On/Off
2025-05-25 16:36:33,777 - IOT_server - INFO - Additional data: {'command': 'start'}
2025-05-25 16:36:33,777 - socketio.server - INFO - emitting event "command_response" to PFUM576Thsea0j98AAAB [/]
2025-05-25 16:36:33,779 - engineio.server - INFO - pt5roZrrsxSmlrk3AAAA: Sending packet MESSAGE data 2["command_response",{"success":true,"command_id":1,"device":"A_Light","status":true,"received":true,"timestamp":"2025-05-25T16:36:33.631528","message":"Command for Light in sector A processed successfully"}]
2025-05-25 16:36:33,779 - socketio.server - INFO - emitting event "device_update" to all [/]
2025-05-25 16:36:33,779 - engineio.server - INFO - pt5roZrrsxSmlrk3AAAA: Sending packet MESSAGE data 2["device_update",{"device":"A_Light","status":true,"timestamp":"2025-05-25T16:36:33.631528","command_id":1}]
2025-05-25 16:36:33,780 - engineio.server - INFO - pt5roZrrsxSmlrk3AAAA: Sending packet MESSAGE data 30[]
2025-05-25 16:36:45,860 - engineio.server - INFO - pt5roZrrsxSmlrk3AAAA: Received packet MESSAGE data 2["control_type_change",{"sector":"A","device":"Motor Fan","type":"Manual","status":false}]
2025-05-25 16:36:45,860 - socketio.server - INFO - received event "control_type_change" from PFUM576Thsea0j98AAAB [/]
2025-05-25 16:36:45,861 - IOT_server - INFO - Control type change received at 2025-05-25T16:36:45.861495
2025-05-25 16:36:45,861 - IOT_server - INFO - Type change details - Sector: A, Device: Motor Fan, Type: Manual
2025-05-25 16:36:45,861 - IOT_server - INFO - Control type change - Device: A_Motor Fan, Type: Manual, Additional data: {}
2025-05-25 16:36:45,861 - socketio.server - INFO - emitting event "type_change_response" to PFUM576Thsea0j98AAAB [/]
2025-05-25 16:36:45,862 - engineio.server - INFO - pt5roZrrsxSmlrk3AAAA: Sending packet MESSAGE data 2["type_change_response",{"success":true,"device":"A_Motor Fan","type":"Manual","received":true,"timestamp":"2025-05-25T16:36:45.861495","message":"Control type for Motor Fan in sector A changed to Manual"}]
2025-05-25 16:36:46,497 - engineio.server - INFO - pt5roZrrsxSmlrk3AAAA: Received packet MESSAGE data 21["device_command",{"sector":"A","device":"Motor Fan","status":true,"type":"Manual","command":"start"}]
2025-05-25 16:36:46,497 - socketio.server - INFO - received event "device_command" from PFUM576Thsea0j98AAAB [/]
2025-05-25 16:36:46,542 - IOT_server - INFO - Command saved to database - ID: 2
2025-05-25 16:36:46,542 - IOT_server - INFO - Device command received at 2025-05-25T16:36:46.498453
2025-05-25 16:36:46,542 - IOT_server - INFO - Command details - ID: 2, Sector: A, Device: Motor Fan
2025-05-25 16:36:46,542 - IOT_server - INFO - Status: True, Type: Manual
2025-05-25 16:36:46,542 - IOT_server - INFO - Additional data: {'command': 'start'}
2025-05-25 16:36:46,543 - socketio.server - INFO - emitting event "command_response" to PFUM576Thsea0j98AAAB [/]
2025-05-25 16:36:46,543 - engineio.server - INFO - pt5roZrrsxSmlrk3AAAA: Sending packet MESSAGE data 2["command_response",{"success":true,"command_id":2,"device":"A_Motor Fan","status":true,"received":true,"timestamp":"2025-05-25T16:36:46.498453","message":"Command for Motor Fan in sector A processed successfully"}]
2025-05-25 16:36:46,543 - socketio.server - INFO - emitting event "device_update" to all [/]
2025-05-25 16:36:46,544 - engineio.server - INFO - pt5roZrrsxSmlrk3AAAA: Sending packet MESSAGE data 2["device_update",{"device":"A_Motor Fan","status":true,"timestamp":"2025-05-25T16:36:46.498453","command_id":2}]
2025-05-25 16:36:46,545 - engineio.server - INFO - pt5roZrrsxSmlrk3AAAA: Sending packet MESSAGE data 31[]
2025-05-25 16:36:49,180 - engineio.server - INFO - pt5roZrrsxSmlrk3AAAA: Sending packet PING data None
2025-05-25 16:36:49,180 - engineio.server - INFO - pt5roZrrsxSmlrk3AAAA: Received packet PONG data 
2025-05-25 16:37:14,182 - engineio.server - INFO - pt5roZrrsxSmlrk3AAAA: Sending packet PING data None
2025-05-25 16:37:14,182 - engineio.server - INFO - pt5roZrrsxSmlrk3AAAA: Received packet PONG data 
2025-05-25 16:37:39,185 - engineio.server - INFO - pt5roZrrsxSmlrk3AAAA: Sending packet PING data None
2025-05-25 16:37:39,185 - engineio.server - INFO - pt5roZrrsxSmlrk3AAAA: Received packet PONG data 
2025-05-25 16:37:55,330 - engineio.server - INFO - pt5roZrrsxSmlrk3AAAA: Received packet MESSAGE data 2["control_type_change",{"sector":"A","device":"Light","type":"On","status":true}]
2025-05-25 16:37:55,330 - socketio.server - INFO - received event "control_type_change" from PFUM576Thsea0j98AAAB [/]
2025-05-25 16:37:55,330 - IOT_server - INFO - Control type change received at 2025-05-25T16:37:55.330082
2025-05-25 16:37:55,330 - IOT_server - INFO - Type change details - Sector: A, Device: Light, Type: On
2025-05-25 16:37:55,330 - IOT_server - INFO - Control type change - Device: A_Light, Type: On, Additional data: {}
2025-05-25 16:37:55,330 - socketio.server - INFO - emitting event "type_change_response" to PFUM576Thsea0j98AAAB [/]
2025-05-25 16:37:55,330 - engineio.server - INFO - pt5roZrrsxSmlrk3AAAA: Sending packet MESSAGE data 2["type_change_response",{"success":true,"device":"A_Light","type":"On","received":true,"timestamp":"2025-05-25T16:37:55.330082","message":"Control type for Light in sector A changed to On"}]
2025-05-25 16:37:57,328 - engineio.server - INFO - pt5roZrrsxSmlrk3AAAA: Received packet MESSAGE data 22["device_command",{"sector":"A","device":"Light","status":true,"type":"On","command":"start"}]
2025-05-25 16:37:57,329 - socketio.server - INFO - received event "device_command" from PFUM576Thsea0j98AAAB [/]
2025-05-25 16:37:57,385 - IOT_server - INFO - Command saved to database - ID: 3
2025-05-25 16:37:57,385 - IOT_server - INFO - Device command received at 2025-05-25T16:37:57.329403
2025-05-25 16:37:57,385 - IOT_server - INFO - Command details - ID: 3, Sector: A, Device: Light
2025-05-25 16:37:57,385 - IOT_server - INFO - Status: True, Type: On
2025-05-25 16:37:57,385 - IOT_server - INFO - Additional data: {'command': 'start'}
2025-05-25 16:37:57,385 - socketio.server - INFO - emitting event "command_response" to PFUM576Thsea0j98AAAB [/]
2025-05-25 16:37:57,385 - engineio.server - INFO - pt5roZrrsxSmlrk3AAAA: Sending packet MESSAGE data 2["command_response",{"success":true,"command_id":3,"device":"A_Light","status":true,"received":true,"timestamp":"2025-05-25T16:37:57.329403","message":"Command for Light in sector A processed successfully"}]
2025-05-25 16:37:57,385 - socketio.server - INFO - emitting event "device_update" to all [/]
2025-05-25 16:37:57,385 - engineio.server - INFO - pt5roZrrsxSmlrk3AAAA: Sending packet MESSAGE data 2["device_update",{"device":"A_Light","status":true,"timestamp":"2025-05-25T16:37:57.329403","command_id":3}]
2025-05-25 16:37:57,385 - engineio.server - INFO - pt5roZrrsxSmlrk3AAAA: Sending packet MESSAGE data 32[]
2025-05-25 16:38:04,012 - engineio.server - INFO - pt5roZrrsxSmlrk3AAAA: Received packet MESSAGE data 2["control_type_change",{"sector":"A","device":"Motor Fan","type":"Off","status":true}]
2025-05-25 16:38:04,012 - socketio.server - INFO - received event "control_type_change" from PFUM576Thsea0j98AAAB [/]
2025-05-25 16:38:04,013 - IOT_server - INFO - Control type change received at 2025-05-25T16:38:04.013351
2025-05-25 16:38:04,013 - IOT_server - INFO - Type change details - Sector: A, Device: Motor Fan, Type: Off
2025-05-25 16:38:04,013 - IOT_server - INFO - Control type change - Device: A_Motor Fan, Type: Off, Additional data: {}
2025-05-25 16:38:04,014 - socketio.server - INFO - emitting event "type_change_response" to PFUM576Thsea0j98AAAB [/]
2025-05-25 16:38:04,014 - engineio.server - INFO - pt5roZrrsxSmlrk3AAAA: Sending packet MESSAGE data 2["type_change_response",{"success":true,"device":"A_Motor Fan","type":"Off","received":true,"timestamp":"2025-05-25T16:38:04.013351","message":"Control type for Motor Fan in sector A changed to Off"}]
2025-05-25 16:38:04,187 - engineio.server - INFO - pt5roZrrsxSmlrk3AAAA: Sending packet PING data None
2025-05-25 16:38:04,187 - engineio.server - INFO - pt5roZrrsxSmlrk3AAAA: Received packet PONG data 
2025-05-25 16:38:04,501 - engineio.server - INFO - pt5roZrrsxSmlrk3AAAA: Received packet MESSAGE data 23["device_command",{"sector":"A","device":"Motor Fan","status":true,"type":"Off","command":"start"}]
2025-05-25 16:38:04,502 - socketio.server - INFO - received event "device_command" from PFUM576Thsea0j98AAAB [/]
2025-05-25 16:38:04,547 - IOT_server - INFO - Command saved to database - ID: 4
2025-05-25 16:38:04,548 - IOT_server - INFO - Device command received at 2025-05-25T16:38:04.502642
2025-05-25 16:38:04,548 - IOT_server - INFO - Command details - ID: 4, Sector: A, Device: Motor Fan
2025-05-25 16:38:04,548 - IOT_server - INFO - Status: True, Type: Off
2025-05-25 16:38:04,548 - IOT_server - INFO - Additional data: {'command': 'start'}
2025-05-25 16:38:04,548 - socketio.server - INFO - emitting event "command_response" to PFUM576Thsea0j98AAAB [/]
2025-05-25 16:38:04,548 - engineio.server - INFO - pt5roZrrsxSmlrk3AAAA: Sending packet MESSAGE data 2["command_response",{"success":true,"command_id":4,"device":"A_Motor Fan","status":true,"received":true,"timestamp":"2025-05-25T16:38:04.502642","message":"Command for Motor Fan in sector A processed successfully"}]
2025-05-25 16:38:04,549 - socketio.server - INFO - emitting event "device_update" to all [/]
2025-05-25 16:38:04,549 - engineio.server - INFO - pt5roZrrsxSmlrk3AAAA: Sending packet MESSAGE data 2["device_update",{"device":"A_Motor Fan","status":true,"timestamp":"2025-05-25T16:38:04.502642","command_id":4}]
2025-05-25 16:38:04,549 - engineio.server - INFO - pt5roZrrsxSmlrk3AAAA: Sending packet MESSAGE data 33[]
